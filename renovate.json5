{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:base",
    ":prHourlyLimitNone",
    ":prConcurrentLimitNone"
  ],
  "enabledManagers": [
    "devcontainer",
    "dockerfile",
    "github-actions",
    "regex"
  ],
  "rebaseWhen": "behind-base-branch",
  "regexManagers": [
    {
      "fileMatch": ["(^|/)Dockerfile$"],
      "matchStrings": [
        "#\\s*renovate:\\s*datasource=(?<datasource>.*?)\\s+depName=(?<depName>.*?)(\\s+extractVersion=(?<extractVersion>.*?))?(\\s+versioning=(?<versioning>.*?))?(\\s+registryUrl=(?<registryUrl>.*?))?\\s*\\nARG .*?_VERSION=\"(?<currentValue>.*)\"\\s",
        "#\\s*renovate:\\s*datasource=(?<datasource>.*?)\\s+depName=(?<depName>.*?)(\\s+extractVersion=(?<extractVersion>.*?))?(\\s+versioning=(?<versioning>.*?))?(\\s+registryUrl=(?<registryUrl>.*?))?\\s*\\nARG .*?_VERSION=(?<currentValue>.*)\\s"
      ],
      "versioningTemplate": "{{#if versioning}}{{versioning}}{{else}}semver{{/if}}"
    },
    {
      "fileMatch": ["^\\.github/workflows/([^/]+/)*[^/]+\\.ya?ml$"],
      "matchStrings": [
        "#\\s*renovate:\\s*datasource=(?<datasource>.*?)\\s+depName=(?<depName>.*?)(\\s+versioning=(?<versioning>.*?))?(\\s+registryUrl=(?<registryUrl>.*?))?\\s*\\n\\s*.*?_VERSION:\\s+\"(?<currentValue>.*)\"\\s",
        "#\\s*renovate:\\s*datasource=(?<datasource>.*?)\\s+depName=(?<depName>.*?)(\\s+versioning=(?<versioning>.*?))?(\\s+registryUrl=(?<registryUrl>.*?))?\\s*\\n\\s*.*?_VERSION:\\s+(?<currentValue>.*)\\s"
      ],
      "versioningTemplate": "{{#if versioning}}{{versioning}}{{else}}semver{{/if}}"
    }
  ],
  "packageRules" : [
    {
      "datasources": [ "repology" ],
      "packagePatterns": [ "^ubuntu_24_04/" ],
      "separateMajorMinor": false,
      "groupName": "Ubuntu 24.04 packages",
      "groupSlug": "ubuntu_24_04"
    },
    {
      "matchPackageNames": ["renovatebot/github-action", "tibdex/github-app-token", "actions/checkout"],
      "automerge": true
    }
  ]
}